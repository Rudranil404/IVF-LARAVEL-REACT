Markdown
# ðŸ¥ NexusCare - Multi-Tenant Clinic Management System

NexusCare is a modern, multi-tenant web application designed to manage centralized clinic provisioning alongside localized daily clinic operations (Patient Registration, Billing, Inventory, etc.).

It features a strict role-based architecture separating **Super Admins** (Global Management) and **Clinic Staff** (Local Management) using Laravel Sanctum, Spatie Permissions, and a React + Tailwind CSS frontend.

---

## ðŸ› ï¸ Prerequisites

Before you begin, ensure you have the following installed on your machine:
* **PHP** 8.2 or higher
* **Composer** (PHP dependency manager)
* **Node.js** (v18+) & **npm**
* **MySQL** or MariaDB
* **Git**

---

## ðŸš€ Detailed Setup Instructions

### 1. Backend Setup (Laravel)

1. **Navigate to the backend directory:**
   ```bash
   cd backend
Install PHP dependencies:

Bash
composer install
Environment Setup:
Duplicate the .env.example file and rename it to .env. Update your database credentials:

Code snippet
DB_CONNECTION=mysql
DB_HOST=localhost
DB_PORT=3306
DB_DATABASE=ivf_management_db
DB_USERNAME=root
DB_PASSWORD=
Generate Application Key:

Bash
php artisan key:generate
Database Migration & Seeding:
This step is critical as it sets up the necessary Spatie roles (super_admin, clinic_admin) using the sanctum guard.

Bash
php artisan migrate:fresh --seed
(Note: Ensure your DatabaseSeeder creates a default super admin, e.g., super@admin.com with password password123)

Link Storage (For Clinic Logos & Signatures):

Bash
php artisan storage:link
Clear Caches (Crucial for Spatie Roles):

Bash
php artisan permission:cache-reset
php artisan optimize:clear
Start the Laravel Server:

Bash
php artisan serve
The backend is now running at http://127.0.0.1:8000

2. Frontend Setup (React/Vite)
Navigate to the frontend directory:

Bash
cd frontend
Install Node dependencies:

Bash
npm install
Check API Configuration:
Ensure your src/axios.js file is pointing to your local Laravel server:

JavaScript
baseURL: '[http://127.0.0.1:8000](http://127.0.0.1:8000)'
Start the Vite Development Server:

Bash
npm run dev
The frontend is now running at http://localhost:5173

ðŸ§ª Instructions for Testers
This system has strict security boundaries. Testing is divided into two distinct personas: The Super Admin and The Clinic Staff.

Persona 1: Super Admin Testing
Role: Global system manager. Provisions new clinics and manages subscriptions.
Portal URL: http://localhost:5173/admin (Dark Theme)
Test Credentials: super@admin.com / password123

Test Cases:
Cross-Login Prevention: * Go to the standard Clinic portal (http://localhost:5173/) and try to log in with the Super Admin credentials.

Expected Result: Login should be rejected with an "Access Denied" message.

Clinic Provisioning:

Log into the /admin portal. Navigate to Clinic Management.

Click Provision New Clinic. Fill out the multi-step form (Upload a logo, add contacts, set an expiry date).

Toggle the Branch Configuration switch and ensure the secondary branch fields appear.

Expected Result: Clinic saves successfully and appears in the data table.

Clinic Editing:

Click the Edit (Pencil) Icon on a clinic in the table.

Change the max branches limit and update the address.

Expected Result: Changes save successfully without throwing password validation errors (passwords are optional on edit).

Impersonation (Login As):

Click the Login As button next to a clinic.

Expected Result: You should bypass the login screen and be instantly teleported into that specific clinic's dashboard (/clinic-dashboard).

Persona 2: Clinic Admin / Receptionist Testing
Role: Local clinic staff. Manages patients, doctors, and daily operations.
Portal URL: http://localhost:5173/ (Light Theme with Doctor Image)
Test Credentials: Use the email/password you created during Step 2 of Clinic Provisioning (or use admin@clinic1.com / password123 if using the auto-heal seeder).

Test Cases:
Cross-Login Prevention:

Go to the Super Admin portal (/admin) and try to log in with your Clinic credentials.

Expected Result: Login rejected with "Access Denied".

Branding Validation:

Log into the main clinic portal (/).

Expected Result: The sidebar should display the specific Clinic's Name and Logo that the Super Admin uploaded.

Dashboard Quick Actions:

On the Dashboard, click "Register New Patient" under Quick Actions.

Expected Result: The app navigates to the Patient List, and the Registration panel smoothly slides in from the right side.

Patient Registration Conditional Logic:

Open the Patient Registration sliding panel.

Change "Patient Type" from New to Old. (Observe the "Old MRN" field appear).

Change "Title" to Mr. (Observe Gender auto-select to Male).

Change "Marital Status" to Married. (Observe the Checkbox to "Add Spouse Info" appear). Toggle it on.

Add Master Doctor (Modal inside Drawer):

In the Patient Registration panel, under Assigned Doctor, click "+ Add Master".

Expected Result: A centered overlay modal appears. Fill out the doctor details and click save. The modal should close, and the new doctor should now be selectable in the dropdown list.

ðŸ›‘ Troubleshooting Notes for Testers
Getting a 403 Forbidden Error? This means the browser holds an old testing token. Open Developer Tools (F12) -> Application -> Local Storage -> Delete ACCESS_TOKEN, then refresh and log in again.

Overlapping UI? Ensure your browser window is maximized. The sliding drawer transitions are optimized for tablet and desktop views.